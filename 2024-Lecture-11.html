<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mikhail Mikhasenko">

<title>lecture-11 – Hadron Physics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 11.8em;
  margin: 0 11.8em 11.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-234273d1456647dabc34a594ac50e507.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-6729c19c459079745e2be02720e68a89.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#exam-participation-and-group-coordination-discussion" id="toc-exam-participation-and-group-coordination-discussion" class="nav-link active" data-scroll-target="#exam-participation-and-group-coordination-discussion"><span class="header-section-number">11.1</span> Exam Participation and Group Coordination Discussion</a></li>
  <li><a href="#mapping-riemann-sheets-and-analytic-structures-in-the-s-plane-and-k-plane" id="toc-mapping-riemann-sheets-and-analytic-structures-in-the-s-plane-and-k-plane" class="nav-link" data-scroll-target="#mapping-riemann-sheets-and-analytic-structures-in-the-s-plane-and-k-plane"><span class="header-section-number">11.2</span> Mapping Riemann Sheets and Analytic Structures in the <span class="math inline">S</span>-Plane and <span class="math inline">K</span>-Plane</a></li>
  <li><a href="#qcd-confinement-chiral-perturbation-theory-and-spontaneous-symmetry-breaking" id="toc-qcd-confinement-chiral-perturbation-theory-and-spontaneous-symmetry-breaking" class="nav-link" data-scroll-target="#qcd-confinement-chiral-perturbation-theory-and-spontaneous-symmetry-breaking"><span class="header-section-number">11.3</span> QCD Confinement, Chiral Perturbation Theory, and Spontaneous Symmetry Breaking</a></li>
  <li><a href="#chiral-symmetry-breaking-goldstone-bosons-and-the-η-mass-in-qcd" id="toc-chiral-symmetry-breaking-goldstone-bosons-and-the-η-mass-in-qcd" class="nav-link" data-scroll-target="#chiral-symmetry-breaking-goldstone-bosons-and-the-η-mass-in-qcd"><span class="header-section-number">11.4</span> Chiral Symmetry Breaking, Goldstone Bosons, and the η’ Mass in QCD</a></li>
  <li><a href="#proton-mass-and-chiral-symmetry-in-the-context-of-quark-gluon-interactions" id="toc-proton-mass-and-chiral-symmetry-in-the-context-of-quark-gluon-interactions" class="nav-link" data-scroll-target="#proton-mass-and-chiral-symmetry-in-the-context-of-quark-gluon-interactions"><span class="header-section-number">11.5</span> Proton Mass and Chiral Symmetry in the Context of Quark-Gluon Interactions</a></li>
  <li><a href="#discretization-and-grid-setup-in-lattice-qcd-calculations" id="toc-discretization-and-grid-setup-in-lattice-qcd-calculations" class="nav-link" data-scroll-target="#discretization-and-grid-setup-in-lattice-qcd-calculations"><span class="header-section-number">11.6</span> Discretization and Grid Setup in Lattice QCD Calculations</a></li>
  <li><a href="#finite-volume-effects-and-discretization-errors-in-particle-simulation" id="toc-finite-volume-effects-and-discretization-errors-in-particle-simulation" class="nav-link" data-scroll-target="#finite-volume-effects-and-discretization-errors-in-particle-simulation"><span class="header-section-number">11.7</span> Finite Volume Effects and Discretization Errors in Particle Simulation</a></li>
  <li><a href="#finite-volume-effects-discretization-and-observables-in-lattice-qcd" id="toc-finite-volume-effects-discretization-and-observables-in-lattice-qcd" class="nav-link" data-scroll-target="#finite-volume-effects-discretization-and-observables-in-lattice-qcd"><span class="header-section-number">11.8</span> Finite Volume Effects, Discretization, and Observables in Lattice QCD</a></li>
  <li><a href="#quantization-of-momentum-from-periodic-boundary-conditions" id="toc-quantization-of-momentum-from-periodic-boundary-conditions" class="nav-link" data-scroll-target="#quantization-of-momentum-from-periodic-boundary-conditions"><span class="header-section-number">11.9</span> Quantization of Momentum from Periodic Boundary Conditions</a></li>
  <li><a href="#quantized-momentum-and-energy-shifts-in-a-periodic-two-particle-system" id="toc-quantized-momentum-and-energy-shifts-in-a-periodic-two-particle-system" class="nav-link" data-scroll-target="#quantized-momentum-and-energy-shifts-in-a-periodic-two-particle-system"><span class="header-section-number">11.10</span> Quantized Momentum and Energy Shifts in a Periodic Two-Particle System</a></li>
  <li><a href="#exploring-hadron-structure-and-scattering-amplitudes-in-lattice-qcd" id="toc-exploring-hadron-structure-and-scattering-amplitudes-in-lattice-qcd" class="nav-link" data-scroll-target="#exploring-hadron-structure-and-scattering-amplitudes-in-lattice-qcd"><span class="header-section-number">11.11</span> Exploring Hadron Structure and Scattering Amplitudes in Lattice QCD</a></li>
  <li><a href="#preparing-exercise-sheets-and-closing-remarks" id="toc-preparing-exercise-sheets-and-closing-remarks" class="nav-link" data-scroll-target="#preparing-exercise-sheets-and-closing-remarks"><span class="header-section-number">11.12</span> Preparing Exercise Sheets and Closing Remarks</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Mikhail Mikhasenko </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="exam-participation-and-group-coordination-discussion" class="level3" data-number="11.1">
<h3 data-number="11.1" class="anchored" data-anchor-id="exam-participation-and-group-coordination-discussion"><span class="header-section-number">11.1</span> Exam Participation and Group Coordination Discussion</h3>
<ul>
<li>“This form of cross section—exactly.”</li>
<li>“The form of a cross section, you have to remember.”</li>
</ul>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>While discussing cross sections, recall that in nuclear physics: <span class="math display">
\sigma = \frac{\text{Number of reactions}}{\text{Incident flux} \times \text{Target density} \times \text{Thickness}}
</span> This formula defines how cross sections are calculated experimentally.</p>
</div>
</div>
</div>
<hr>
<p><em>We might still adjust between the 23rd and 25th. Do you know who from our group would come to do the exam? We would need to have Max. Moritz, maybe Fabian.</em></p>
<p><em>I’m also not sure if she needs the credit points for this, but I will ask them if they will also come. Because Paul—I know he said he’s finishing his bachelor.</em></p>
<p><em>I asked both of them, and I would actually like other guys who also have time to participate in that. Do you want to participate in the exam? We certainly have to make Dhruvanshu participate in that.</em></p>
<hr>
<p><strong>Dhruvanshu is a PhD student in our group</strong> who was partly involved in the typing exercises. Every week he is at CERN doing his hardware work. You might have seen him in the first week he was here. We just made him take the exam. <em>I think it’s fair.</em> He was skipping the entire semester—<strong>he has to work now.</strong></p>
<hr>
<ul>
<li><em>Did you receive my email to look at the symmetry breaking?</em></li>
<li><em>I saw it this morning. I went through it and made some notes. I started making some notes on the ideas for that.</em></li>
</ul>
<p><strong>Moritz</strong>, I briefly saw it yesterday, but then I had a dentist appointment because I sent it on Friday. Yesterday was the first working day. I put a date for Hanin there on Thursday.</p>
<hr>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<ul>
<li><em>You’re very welcome, together with the information you obtained today.</em></li>
<li><em>Look at it once again and bring it to Ilya for the meeting on Thursday.</em></li>
<li><strong>It’s also important because it gives you kind of easy points.</strong></li>
</ul>
</div>
</div>
</div>
<p><em>The exercise is simple, and I think you might need to report—no, we don’t need to report, but for our number of points you got over the semester. For every counting, please collect them.</em></p>
</section>
<section id="mapping-riemann-sheets-and-analytic-structures-in-the-s-plane-and-k-plane" class="level3" data-number="11.2">
<h3 data-number="11.2" class="anchored" data-anchor-id="mapping-riemann-sheets-and-analytic-structures-in-the-s-plane-and-k-plane"><span class="header-section-number">11.2</span> Mapping Riemann Sheets and Analytic Structures in the <span class="math inline">S</span>-Plane and <span class="math inline">K</span>-Plane</h3>
<p>It’s a pity we started a bit late because the lecture today is very exciting—I’m particularly excited about <strong>lattice QCD</strong> and the <strong>hadron spectroscopy</strong> that we do in lattice. We will get to that next. I tried to start at 11:15, but we should be discussing lattice QCD already. Before that, we have two more items in the program. Let’s start with the recap. Today is <strong>Lecture 11</strong>.</p>
<hr>
<p>So far, we’ve discussed a lot about the <strong>amplitude</strong>, which is a function of <span class="math inline">S</span>. <span class="math inline">S</span> is the <strong>Mandelstam variable</strong>, calculated as:</p>
<p><span class="math display">
S = (P_1 + P_2)^2
</span></p>
<p>for the scattering. This <span class="math inline">S</span> is a very convenient variable to describe the scattering amplitude, as the <strong>partial wave</strong> is a function of a single variable in this sense. Equivalently, one can consider the <strong>breakup momentum</strong>, the variable <span class="math inline">K</span>, which is essentially the momentum that each particle carries. So <span class="math inline">S</span> is the squared energy of the system in the center of mass, and <span class="math inline">K</span> is the momentum of each particle in the center of mass.</p>
<hr>
<p>This <span class="math inline">K</span> is related to <span class="math inline">S</span> with the <strong>channeling function</strong>, and the <strong>analytic structure</strong> of the function is somewhat simpler for <span class="math inline">K</span> in the vicinity of the threshold. What I would like to do now is to look, instead of the <strong><span class="math inline">S</span>-plane</strong> where the function is analytic except for a few singularities, at the <strong><span class="math inline">K</span>-plane</strong> and relate structures in the <span class="math inline">S</span>-plane to the <span class="math inline">K</span>-plane—to map these points 1, 2, 3, 4 into the other plane.</p>
<hr>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p><strong>Key mappings between <span class="math inline">S</span> and <span class="math inline">K</span>:</strong></p>
<ul>
<li>Physical region (<span class="math inline">S &gt; S_{\text{th}}</span>) maps to <strong>real <span class="math inline">K</span></strong>.</li>
<li>Below threshold (<span class="math inline">S &lt; S_{\text{th}}</span>):
<ul>
<li><strong>Bound state</strong> (first sheet) maps to <strong>imaginary <span class="math inline">K</span></strong> (positive imaginary axis).</li>
<li><strong>Virtual state</strong> (second sheet) maps to <strong>negative imaginary <span class="math inline">K</span></strong>.</li>
</ul></li>
</ul>
</div>
</div>
</div>
<hr>
<p>Point 1 and point 2 are the <strong>resonances</strong> sitting on the <strong>second Riemann sheet</strong> with respect to <span class="math inline">S</span>. Point 3 is the <strong>pole on the real axis</strong> in the first Riemann sheet, and this is the <strong>bound state</strong>. Point 4 (11.3) is the <strong>virtual state</strong>, which sits on the unphysical sheet below the threshold. I would like to have these points 1, 2, 3, 4 mapped to the other plane, as well as the real axis.</p>
<hr>
<p>The <strong>real axis above threshold</strong> is the <strong>physical region</strong>, and it gets mapped to the physical region in the <span class="math inline">K</span>-plane. This zero corresponds to the threshold. Below the threshold, <span class="math inline">S</span> is smaller than the threshold, and the square root of it is imaginary, so <span class="math inline">K</span> is imaginary.</p>
<p>But what about another square root? This is far away from the square root and does not change the sign when you cross the threshold. This is multiplied to <span class="math inline">S - M_1^2</span>, and nothing happens when you go through this point. This one is always negative.</p>
<hr>
<p>The <strong>branch point</strong> should be somewhere between zero and the threshold on this plane. The area close to zero is more complicated due to this branch point, but I want to focus on the function near the threshold.</p>
<p>If you were to continue that, you would have another real axis—somehow it flips back to the real axis. The dashed line would just come back to real. Number four is straightforward: we just add the dashed line, and it ends up here.</p>
<hr>
<p>For number three, the negative part of the—yes, it needs to be there because it’s on another Riemann sheet. This is a value of <span class="math inline">S</span> which is real but below threshold, on the other sheet. The sheets are related to the <strong>plus/minus sign of the square root</strong>:</p>
<p><span class="math display">
K = \pm \sqrt{S - S_{\text{th}}}
</span></p>
<ul>
<li><strong>First sheet</strong>: plus sign.</li>
<li><strong>Second sheet</strong>: minus sign.</li>
</ul>
<hr>
<p>On the <span class="math inline">K</span>-plane, the square root changes sign, but on the <span class="math inline">S</span>-plane, <span class="math inline">S</span> does not change sign. Both sheets get mapped to the same <span class="math inline">K</span>-plane, just with plus or minus.</p>
<p>Points 3 and 4, 2 and 1 are easy to connect analytically. You can draw lines or half-circles to connect them. The shape doesn’t matter as long as it’s analytic.</p>
<hr>
<p>The <span class="math inline">K</span>-plane is just <span class="math inline">S</span> mapped differently. For the <strong>momentum plane</strong>, you don’t have a square root because <span class="math inline">K</span> is the square root itself. If you have a function with a square root, it has two Riemann sheets. But when you replace the square root with <span class="math inline">K</span>, it has a simple <strong>single-sheet structure</strong>.</p>
<hr>
<p>The <strong>two-sheet structure</strong> comes from the plus or minus sign in front of the square root, which is part of the <span class="math inline">K</span>-plane. If you do another mapping, like:</p>
<p><span class="math display">
X = K^2
</span></p>
<p>the squaring operation maps the <span class="math inline">K</span>-plane to a <strong>single-sheeted <span class="math inline">X</span>-plane</strong>. This is why the sheets are connected—there is no discontinuity.</p>
<hr>
</section>
<section id="qcd-confinement-chiral-perturbation-theory-and-spontaneous-symmetry-breaking" class="level3" data-number="11.3">
<h3 data-number="11.3" class="anchored" data-anchor-id="qcd-confinement-chiral-perturbation-theory-and-spontaneous-symmetry-breaking"><span class="header-section-number">11.3</span> QCD Confinement, Chiral Perturbation Theory, and Spontaneous Symmetry Breaking</h3>
<p>Now let’s go to <strong>physics</strong>. I would like to start from the discussion we had at the last lecture and discuss <strong>QCD phenomena</strong>—QCD and quark confinement dependence.</p>
<hr>
<p>As you remember, the <strong>fundamental fields</strong> and <strong>fundamental degrees of freedom</strong> in QCD are quarks and gluons. However, when we go to the regime, one of the important phenomena is <strong>confinement</strong>. People start realizing the dynamics of QCD by looking at protons and pions—or rather, looking at neutrons. Nuclear physics and the interactions of the nucleus have these features of confinement.</p>
<hr>
<p>One compares <strong>electron-proton scattering</strong> or <strong>electron-electron scattering</strong>, where there is a coupling constant: <span class="math display">
\alpha = \frac{e^2}{4\pi} \approx \frac{1}{137}.
</span> This <strong>electromagnetic coupling constant</strong> is small and allows one to expand and use Feynman diagrams. In QED, we have <span class="math inline">\alpha = \frac{1}{137}</span>.</p>
<p>Then, for calculations of <strong>pion</strong> and <strong>proton interactions</strong>, you can make an <strong>effective field theory</strong>, match it to the observed phenomena, and figure out that in the <strong>non-perturbative regime</strong>, the theory is not perturbative. There is <strong>confinement</strong>.</p>
<hr>
<p>We also know that the <strong>degrees of freedom</strong>—all interactions of quarks and gluons—are confined to a small scale. This makes new degrees of freedom, forming <strong>composite fields</strong> like mesons and baryons, or simpler objects like mesons.</p>
<hr>
<p>What we discussed last time is that at <strong>low energy</strong>, there is an <strong>effective theory</strong> describing interactions: <strong>chiral perturbation theory</strong>. This is an expansion of the theory in the masses and momentum of particles. It’s not about interactions being small, but rather about masses and momentum being small. This small parameter is used for the expansion.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The expansion parameter in chiral perturbation theory is: <span class="math display">
\mathcal{L}_{\text{eff}} \sim \sum_n c_n \left(\frac{p}{\Lambda_{\text{QCD}}}\right)^n + \mathcal{O}(m_q),
</span> where <span class="math inline">p</span> is momentum, <span class="math inline">\Lambda_{\text{QCD}}</span> is the QCD scale, and <span class="math inline">m_q</span> are quark masses.</p>
</div>
</div>
</div>
<hr>
<p>The picture of this effective theory is that we have it. The feature is that if you work with these <strong>effective fields</strong>—fermion, anti-fermion, fermion—you realize the theory experiences <strong>spontaneous symmetry breaking</strong>. The potential of this theory has a <strong>double-well structure</strong>, and the vacuum ends up in one of the minima.</p>
<hr>
<p>It’s important to make this more accurate and realize what the <strong>sigma field</strong> represents. Last time we touched on this, and I reminded myself how the discussion goes. The potential can be introduced only when you consider fields as <strong>classical fields</strong>, not quantum fields. For classical fields, it’s clear what the potential is.</p>
<hr>
<p>If a particle moves in a potential and its energy is below the potential barrier, it turns back. If you hit a ball against a wall, it reflects. This is the <strong>classical picture</strong>.</p>
<p><strong>Quantum fields</strong> are different. For quantum fields, there is a probability to end up inside the wall, with an exponential tail. If a particle approaches the wall, the wave function has a tail inside the wall due to <strong>quantum effects</strong>.</p>
<hr>
<p>The relation between particles, quantum fields, and classical fields comes via the <strong>quasi-classical expansion</strong>. In quantum field theory, there is always <span class="math inline">\hbar</span>, a small number set to one in natural units. But you can use <span class="math inline">\hbar</span> as a small parameter and expand. The first term in the expansion is the average value of the fields—the classical version of <span class="math inline">\sigma</span>.</p>
<p>Now, <span class="math inline">\sigma</span> is no longer a function of <span class="math inline">x</span>; it doesn’t fluctuate in spacetime but is a fixed value. We can look at the <strong>quasi-classical potential</strong> of the theory as a function of <span class="math inline">\sigma</span>, and that’s how we define the potential.</p>
<hr>
<p>The potential has a <strong>ring of minima</strong>. When you solve the problem—like in the previous assignment—you find the relation for the complex <span class="math inline">\sigma</span>. On the <span class="math inline">x</span>-axis is the real part of <span class="math inline">\sigma</span>, and on the <span class="math inline">y</span>-axis is the imaginary part. You can replace <span class="math inline">\sigma</span> with two independent fields, <span class="math inline">\sigma_1</span> and <span class="math inline">\sigma_2</span>. The <strong>curvature of the potential</strong> indicates the particle’s mass.</p>
<hr>
<p>In QCD, the degrees of freedom that experience binding in the <strong>confinement regime</strong> are the <span class="math inline">\sigma</span> field, which is integrated over—an unimportant field. The important degree of freedom is the <strong>pion field</strong>, which doesn’t experience binding and has no curvature in the potential.</p>
<p>The vacuum is aligned at the center, but due to <strong>spontaneous symmetry breaking</strong>, space is filled with the <strong>quark condensate</strong> of the <span class="math inline">\sigma</span> field: <span class="math display">
\langle \bar{q}q \rangle \equiv \langle \sigma \rangle = v \neq 0.
</span> On top of it, there are small fluctuations of the <strong>massless pion field</strong>.</p>
<hr>
<p>It’s a nice picture: everything is filled with the <span class="math inline">\sigma</span> field, which fluctuates around a vacuum value rather than zero. The pion fields are <strong>massless</strong>—they don’t see the curvature of the potential. This is the <strong>Goldstone theorem</strong>: spontaneous symmetry breaking leads to massless bosons.</p>
<p>In QCD, pions are massless. The light mesons are massless, and they only gain mass in real life due to the <strong>Higgs mechanism</strong>, which makes quarks massive. If quarks were massless, pions would be massless Goldstone bosons, and the <span class="math inline">\eta</span> meson would be too. The entire <span class="math inline">SU(2)</span> multiplet would be massless particles.</p>
<p>That’s it.</p>
<hr>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The <strong>Mexican hat potential</strong> for sigma and pion fields is: <span class="math display">
V(\sigma, \pi) = \frac{\lambda}{4}\left(\sigma^2 + \pi^2 - v^2\right)^2,
</span> where <span class="math inline">\sigma</span> is the radial mode (massive) and <span class="math inline">\pi</span> is the angular mode (massless Goldstone boson).</p>
</div>
</div>
</div>
<hr>
<p>The <strong>Goldstone boson (pion) masslessness</strong> (before Higgs mechanism) is given by: <span class="math display">
m_\pi^2 \propto m_q \quad \text{(if } m_q \to 0, \text{ then } m_\pi \to 0\text{)}.
</span></p>
</section>
<section id="chiral-symmetry-breaking-goldstone-bosons-and-the-η-mass-in-qcd" class="level3" data-number="11.4">
<h3 data-number="11.4" class="anchored" data-anchor-id="chiral-symmetry-breaking-goldstone-bosons-and-the-η-mass-in-qcd"><span class="header-section-number">11.4</span> Chiral Symmetry Breaking, Goldstone Bosons, and the η’ Mass in QCD</h3>
<p>Last time we looked at the <strong>chiral symmetry</strong>, checking if the Lagrangian has the symmetry that you can rotate left quarks and right quarks independently. The idea is we look at the chiral symmetry for sure.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The chiral symmetry in the QCD Lagrangian (massless case) is given by: <span class="math display">\mathcal{L}_{QCD} = \bar{\psi}_L i \gamma^\mu D_\mu \psi_L + \bar{\psi}_R i \gamma^\mu D_\mu \psi_R</span> where <span class="math inline">\psi_L</span> and <span class="math inline">\psi_R</span> are left- and right-handed quark fields, and <span class="math inline">D_\mu</span> is the covariant derivative.</p>
</div>
</div>
</div>
<p>The Lagrangian of QCD has a global <span class="math inline">SU(2)</span> symmetry when there is no mass term present. This symmetry is broken <strong>spontaneously</strong> when you move to the minimum of the theory.</p>
<p>If you introduce independent rotations of the right and left fields, it was related to the rotations one can think of. This is the rotation in the <span class="math inline">\sigma</span> field—the symmetry of the potential. Once you move to the spontaneously broken phase, once you move to the minimum, you don’t have this symmetry anymore. This symmetry is broken, and it is a global symmetry.</p>
<p>The breaking of this left-right symmetry leads to the appearance of <strong>Goldstone bosons</strong>, which are pions and they are massless.</p>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>For <span class="math inline">SU(2)_L \times SU(2)_R \to SU(2)_V</span>, the number of Goldstone bosons is: <span class="math display">\text{dim}(G/H) = \text{dim}(SU(2)_L \times SU(2)_R) - \text{dim}(SU(2)_V) = 3</span></p>
</div>
</div>
</div>
<p>When they acquire some mass, if the symmetry is bigger, like <span class="math inline">SU(3)</span>, we have eight mesons now that are massive. These are two kaons, two or three pions, and eight eta mesons appear to be massless. Why are they not massless? Because quarks have mass.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>For <span class="math inline">SU(3)_L \times SU(3)_R \to SU(3)_V</span>, the number of pseudo-Goldstone bosons (pions, kaons, eta) is: <span class="math display">8 = \text{dim}(SU(3)_L \times SU(3)_R) - \text{dim}(SU(3)_V)</span></p>
</div>
</div>
</div>
<p>I just made a connection with the <strong>Higgs mechanism</strong> because it’s the Higgs interaction with quarks that gives them mass. These are <strong>Yukawa couplings</strong>. This discussion is kind of irrelevant for the current perturbation theory. We just put a mass term explicitly in the Lagrangian.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The Yukawa coupling for quark masses in the Standard Model is: <span class="math display">\mathcal{L}_{Yukawa} = -y_f \bar{\psi}_L \phi \psi_R + h.c.</span> where <span class="math inline">\phi</span> is the Higgs field and <span class="math inline">y_f</span> is the Yukawa coupling constant.</p>
</div>
</div>
</div>
<p>Now, having discovered the Higgs, we know that something similar to this fundamental symmetry breaking happens with the Higgs field. The vacuum is filled with the Higgs, through which particles, when moving, obtain mass. This is something connected but different—a different phenomenon. For the chiral perturbation theory, the mass term explicitly appears in the Lagrangian and breaks the symmetry explicitly.</p>
<p>The Yukawa coupling in the Higgs mechanism introduces mass. The original mechanism Yukawa invented was the exchange of pions—the Yukawa potential. Now, in the Standard Model, the mass matrix is introduced through terms called Yukawa couplings.</p>
<p>It’s a bit tricky about the <span class="math inline">\eta'</span> because even if you consider QCD without mass terms, the <span class="math inline">\eta'</span> still appears massive. The <span class="math inline">\eta'</span> is the one related to the <span class="math inline">U(1)</span> symmetry.</p>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The axial <span class="math inline">U(1)_A</span> anomaly leads to a mass for the <span class="math inline">\eta'</span> meson even in the chiral limit: <span class="math display">m_{\eta'}^2 \sim \frac{N_f}{F_\pi^2} \chi_{top}</span> where <span class="math inline">\chi_{top}</span> is the topological susceptibility and <span class="math inline">N_f</span> is the number of flavors.</p>
</div>
</div>
</div>
<p>Here, <span class="math inline">S</span> for both groups means “special,” meaning the determinant of the matrix is equal to 1. The group <span class="math inline">U(2)</span> is equal to <span class="math inline">SU(2) \times U(1)</span>.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The relation between <span class="math inline">U(N)</span> and <span class="math inline">SU(N) \times U(1)</span> is: <span class="math display">U(N) \simeq SU(N) \times U(1)/\mathbb{Z}_N</span></p>
</div>
</div>
</div>
<p>If you allow the determinant to be a phase, like if <span class="math inline">U(1)</span> is a unitary group where the determinant of the matrix squared is one, you can consider this being one but have an extra phase for the determinant. The Lagrangian is seemingly invariant under <span class="math inline">U(1)</span>, under this phase rotation, especially globally, so that all derivatives don’t touch this phase. If you look at the composition of the field, like <span class="math inline">\bar{\psi}\psi</span>, it’s invariant under the phase transformation.</p>
<p>But apparently, this symmetry is also broken dynamically. If you compute higher-order perturbations, you find out that this symmetry is spontaneously broken. That’s related to the mass of the <span class="math inline">\eta'</span>. Once you see the light meson octet, you remember there is an <span class="math inline">\eta'</span> there, which is special.</p>
<p>The number of generators in <span class="math inline">U(2)</span> is 4, and in <span class="math inline">U(3)</span> it’s 9. For <span class="math inline">SU(3)</span>, 8 generators belong to <span class="math inline">SU(3)</span>, and these 8 are spontaneously broken, giving 8 Goldstone bosons—pions and kaons. The <span class="math inline">U(1)</span> is seemingly a symmetry, but it could also be broken. There are anomalies that make the <span class="math inline">\eta'</span> massive even when the masses of quarks are zero.</p>
<hr>
<ol type="1">
<li><p><strong>Chiral symmetry in QCD Lagrangian (massless case)</strong>: <span class="math inline">\mathcal{L}_{QCD} = \bar{\psi}_L i \gamma^\mu D_\mu \psi_L + \bar{\psi}_R i \gamma^\mu D_\mu \psi_R</span></p></li>
<li><p><strong>Goldstone bosons from spontaneous symmetry breaking</strong>: For <span class="math inline">SU(2)_L \times SU(2)_R \to SU(2)_V</span>, the number of Goldstone bosons is: <span class="math inline">\text{dim}(G/H) = \text{dim}(SU(2)_L \times SU(2)_R) - \text{dim}(SU(2)_V) = 3</span></p></li>
<li><p><strong>SU(3) case with explicit symmetry breaking</strong>: For <span class="math inline">SU(3)_L \times SU(3)_R \to SU(3)_V</span>, the pseudo-Goldstone bosons (pions, kaons, eta) number: <span class="math inline">8 = \text{dim}(SU(3)_L \times SU(3)_R) - \text{dim}(SU(3)_V)</span></p></li>
<li><p><strong>Yukawa coupling for quark masses</strong>: <span class="math inline">\mathcal{L}_{Yukawa} = -y_f \bar{\psi}_L \phi \psi_R + h.c.</span></p></li>
<li><p><strong>U(1) anomaly and <span class="math inline">\eta'</span> mass</strong>: <span class="math inline">m_{\eta'}^2 \sim \frac{N_f}{F_\pi^2} \chi_{top}</span></p></li>
<li><p><strong>Group decomposition</strong>: <span class="math inline">U(N) \simeq SU(N) \times U(1)/\mathbb{Z}_N</span></p></li>
</ol>
</section>
<section id="proton-mass-and-chiral-symmetry-in-the-context-of-quark-gluon-interactions" class="level3" data-number="11.5">
<h3 data-number="11.5" class="anchored" data-anchor-id="proton-mass-and-chiral-symmetry-in-the-context-of-quark-gluon-interactions"><span class="header-section-number">11.5</span> Proton Mass and Chiral Symmetry in the Context of Quark-Gluon Interactions</h3>
<p>We discussed so far about <strong>pions</strong> and <strong>kaons</strong>, but the <strong>proton</strong> is also made of three quarks. There is nothing here that tells or that we haven’t discussed the mass of the proton yet. But what’s your guess? If you go to the <strong>chiral perturbation theory</strong> in the <strong>chiral limit</strong>, you put masses of quarks to zero: <span class="math display"> m_u = m_d = 0 </span> What happens with the proton?</p>
<ul>
<li><strong>Pion</strong> is massless.</li>
<li><strong>Kaon</strong> is massless,</li>
<li>so the <strong>proton</strong> should also be massless because all masses are zero.</li>
</ul>
<p>But maybe the <strong>gluon mass</strong> makes the difference.</p>
<hr>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>Pions and kaons are special—they are <strong>Goldstone bosons</strong> of the chiral symmetry, but the proton is actually massive. The proton has energy of the quark-gluon interaction stored into it. The mass of the proton is purely determined by the quark-gluon interactions: <span class="math display"> m_p \approx \Lambda_{\text{QCD}} \sim \mathcal{O}(1 \text{ GeV}) </span></p>
</div>
</div>
</div>
<hr>
<p>Do we have <strong>quark-gluon interactions</strong> in mesons as well? We do, but we have a <strong>condensate</strong> of the quarks, and this is the <strong>sigma field</strong>.</p>
<ul>
<li><strong>Pions</strong> are little fluctuations on the background of this field.</li>
<li><strong>Protons</strong> are something different—they are sort of excitations of this condensate.</li>
<li><strong>Rho mesons</strong> are excitations of the gluon condensate, but protons are a different type of object.</li>
</ul>
<hr>
<p>Pions are special—they are massless. The proton just experiences this heavy gluon condensate. The rest of the hadrons, especially except for those <strong>Goldstone bosons</strong>, have a proper mass related to the quark-gluon interaction, and everything sits on the background of this <strong>gluon condensate</strong>. This is tricky to wrap your mind around.</p>
<hr>
<p>One thing that would help is to look at the <strong>mathematics of the mechanism</strong> to see how <strong>sigma</strong> obtains its vacuum non-trivial expectation value: <span class="math display"> \langle \sigma \rangle = v = \sqrt{\frac{\mu^2}{\lambda}} </span> and how <strong>pions</strong> appear as fluctuations in directions where there is no potential.</p>
<ul>
<li>The <strong>mass of the particles</strong> is the curvature of the potential.</li>
<li><strong>Pions</strong> move in directions where there is no curvature, which is why they don’t have masses.</li>
<li><strong>Protons, rho mesons, and other excitations</strong> are different because they have this background field excited—they have energy stored and thus have mass.</li>
</ul>
<hr>
<p>One important point is that the theory itself does not have values of the masses that are special. You can <strong>tune the masses</strong>—you can increase them or make them zero—and then you have a series. But once you introduce the masses, the theory doesn’t change very much. Especially because the masses of the light quarks <span class="math inline">u</span> and <span class="math inline">d</span> are rather small—they are smaller than the <strong>QCD scale</strong> of <strong>1 GeV</strong>. There is no big change in the physics when you introduce small-mass quarks.</p>
<hr>
<p>What happens then? When you introduce <strong>quark masses</strong>, you effectively add a linear term to your potential, skewing it slightly. The picture remains almost the same—it’s just that the minimum on one side gets more pronounced. Now there is curvature in the pion direction as well. It’s a <strong>Mexican hat potential</strong>: <span class="math display"> V(\sigma, \vec{\pi}) = -\frac{\mu^2}{2}(\sigma^2 + \vec{\pi}^2) + \frac{\lambda}{4}(\sigma^2 + \vec{\pi}^2)^2 </span></p>
<p>With quark masses, the potential becomes: <span class="math display"> V(\sigma, \vec{\pi}) \rightarrow V(\sigma, \vec{\pi}) - c \sigma </span></p>
<p>This gives pions a small mass: <span class="math display"> m_\pi^2 \propto m_q \Lambda_{\text{QCD}} </span></p>
<hr>
<p>Moreover, one of the quantities often introduced is the <strong>mass of the proton over the mass of the rho meson</strong>, which is characterized by the QCD interaction: <span class="math display"> \frac{m_p}{m_\rho} \approx \text{constant} </span></p>
<p>This doesn’t change much if you increase the quark mass.</p>
<hr>
<p>We will see that computations of the properties of the <strong>chiral perturbation theory</strong> depend very much on the quark masses you put in. It appears easier to calculate when pions are slightly heavier, which is what you do by introducing slightly larger quark masses. Then you do computations for slightly heavier pions. But the properties of the theory—the meson properties—do not change much. The details change, like the mass and width of the particles, but the characteristics remain. You can still learn a lot from <strong>non-physical particle masses</strong>.</p>
<p>You shouldn’t be scared by seeing <strong>unphysical pion masses</strong> or quark masses in calculations. Quantitatively, this is a tool we use to learn about the properties of the theory.</p>
<hr>
</section>
<section id="discretization-and-grid-setup-in-lattice-qcd-calculations" class="level3" data-number="11.6">
<h3 data-number="11.6" class="anchored" data-anchor-id="discretization-and-grid-setup-in-lattice-qcd-calculations"><span class="header-section-number">11.6</span> Discretization and Grid Setup in Lattice QCD Calculations</h3>
<p>Now let’s move on to discuss <strong>lattice QCD</strong>.</p>
<p>The fields depend on the four-dimensional coordinate vector <span class="math inline">x^\mu = (t, \vec{x})</span>, which includes time and spatial dimensions.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The spacetime coordinate is explicitly represented as: <span class="math display">x^\mu = (x^0, x^1, x^2, x^3) = (t, \vec{x})</span></p>
</div>
</div>
</div>
<p>What we do is introduce a <strong>grid</strong> in both the spatial and time dimensions, then compute the <strong>Lagrangian action</strong> or <strong>particle correlations</strong> on this grid.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The lattice action (simplified form) is: <span class="math display">S_{\text{lattice}} = \sum_{n,\mu,\nu} \text{Re}\, \text{Tr}\left[1 - U_{\mu\nu}(n)\right] + \sum_n \bar{\psi}_n D \psi_n</span> where <span class="math inline">U_{\mu\nu}</span> is the plaquette variable and <span class="math inline">D</span> is the Dirac operator on the lattice.</p>
</div>
</div>
</div>
<p>Typically, lattice QCD setups use a time dimension of around <strong>200 points</strong>, with a spatial lattice size of about <strong>7 Fermi</strong>, discretized into <strong>50 points</strong> in each dimension.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The lattice spacing <span class="math inline">a</span> and temporal extent <span class="math inline">T</span> are given by: <span class="math display">a = \frac{L}{N}</span> <span class="math display">T = N_t a_t</span> where <span class="math inline">L = 7</span> Fermi, <span class="math inline">N = 50</span>, and <span class="math inline">N_t = 200</span>.</p>
</div>
</div>
</div>
<p>Imagine a box with <strong>50 points on each side</strong>. We then observe how it evolves over time by performing <strong>200 steps</strong>.</p>
<p>These values are determined experimentally by testing what works best for calculations.</p>
</section>
<section id="finite-volume-effects-and-discretization-errors-in-particle-simulation" class="level3" data-number="11.7">
<h3 data-number="11.7" class="anchored" data-anchor-id="finite-volume-effects-and-discretization-errors-in-particle-simulation"><span class="header-section-number">11.7</span> Finite Volume Effects and Discretization Errors in Particle Simulation</h3>
<p>The computations are <strong>very numerically heavy</strong>. Therefore, the lower number of points you can take, the better. But there are two main challenges when you put a particle in the box:</p>
<ol type="1">
<li><strong>Finite volume effect</strong>: Finite box, finite volume—you more often hear “finite volume effect.”</li>
<li><strong>Discretization error</strong>: Both of them can be addressed: the first by making the volume bigger, the second by making the steps smaller. This comes with the cost of computation.</li>
</ol>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The finite volume effect leads to an energy shift approximated by: <span class="math display">\Delta E(L) \sim \frac{C}{L^3} e^{-m_\pi L}</span> where <span class="math inline">L</span> is the box size, <span class="math inline">m_\pi</span> is the pion mass, and <span class="math inline">C</span> is a constant.</p>
</div>
</div>
</div>
<hr>
<p>It’s intuitive—you would need an <strong>infinite and continuous space</strong> to avoid these issues. That’s all there is to it.</p>
<p>Here’s an analogy to help visualize the lattice: think of Wi-Fi and the point-and-box aspect. This is important because we use <strong>cyclic or periodic boundary conditions</strong>. If you put a proton in the box and calculate its properties, due to the finite size and periodic boundary conditions, it sees its mirror image.</p>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>Periodic boundary conditions enforce: <span class="math display">\psi(x + L) = \psi(x)</span> This avoids forcing the wave function to vanish at the borders, unlike fixed boundary conditions.</p>
</div>
</div>
</div>
<hr>
<p>Why use periodic boundary conditions? There are advantages. What are the alternatives? You could just say the box ends there. If you only calculate something inside the box, it shouldn’t make a difference. But if the box ends there, the boundary condition would still impose <strong>quantization</strong> and affect the wave function.</p>
<p>For example, if the wave function had to vanish at the borders, you’d have a lower probability there. That’s my explanation.</p>
<hr>
<p>Periodic boundary conditions have advantages—the wave function, in a second quantization context, isn’t forced to vanish at the borders. The two approaches are similar, but one fixes the entire wave function while the other lets it move. One is more like a <strong>static configuration</strong>, the other more <strong>dynamic</strong>.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>Quantized momentum on a lattice with periodic boundary conditions is given by: <span class="math display">p_i = \frac{2\pi n_i}{L}, \quad n_i \in \mathbb{Z}</span></p>
</div>
</div>
</div>
<hr>
<p>I would have assumed it wouldn’t make a difference, but uncertainties introduced by a finite box are <strong>exponentially suppressed</strong> for certain good observables.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The finite-volume correction to a hadron’s mass follows: <span class="math display">m(L) = m_\infty + \frac{A}{L} e^{-m_\pi L} + \cdots</span> where <span class="math inline">m_\infty</span> is the infinite-volume mass and <span class="math inline">A</span> is a constant.</p>
</div>
</div>
</div>
</section>
<section id="finite-volume-effects-discretization-and-observables-in-lattice-qcd" class="level3" data-number="11.8">
<h3 data-number="11.8" class="anchored" data-anchor-id="finite-volume-effects-discretization-and-observables-in-lattice-qcd"><span class="header-section-number">11.8</span> Finite Volume Effects, Discretization, and Observables in Lattice QCD</h3>
<p>I have to be vague since we just decided to spend one lecture on QCD. I should have started by saying that one can spend a semester or several semesters learning <strong>quantum chromodynamics on the lattice</strong>. It’s a rapidly moving field with many interesting techniques. Unfortunately, I can only give you a brief overview.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The lecturer suggests reaching out to John Gulava for a deeper dive into QCD next semester, as he is the ideal expert for detailed explanations.</p>
</div>
</div>
</div>
<p>Can you convince John Gulava to hold a lecture on this topic next semester? I could talk to him. He would dream of giving these lectures, and he would be the right person to explain all the details. But let me just give you some vague arguments, a taste of the computations, and some common knowledge about it.</p>
<hr>
<p>We discussed <strong>finite volume effects</strong>. My claim is that corrections due to the lattice size for good observables like particle masses or form factors are <em>exponentially suppressed</em> with the lightest degrees of freedom of the theory, which is the pion.</p>
<p>The reason for this is that if you put a proton on the lattice, pions are present as well. The proton is addressed, so pions—these beautiful particles—pop up as <strong>virtual particles</strong>. They don’t propagate; they exist in clouds around the proton, mediating interactions. Since they are virtual, they cannot sample the boundary of the box. Because pions are the lightest particles, they set the scale for this suppression.</p>
<p>Another way to see why it scales this way is to look at interactions in momentum space. The potential has a <strong>Yukawa form</strong>, proportional to:</p>
<p><span class="math display">
V(r) \propto \frac{e^{-m_\pi r}}{r},
</span></p>
<p>where <span class="math inline">r</span> is the distance. This also gives you an argument for why the effects are exponentially suppressed.</p>
<hr>
<p>This exponential factor is <strong>key</strong>. It means that once your lattice is large compared to the inverse pion mass, your computations closely approximate infinite-volume quantities. However, they are still finite-volume quantities. It’s important to realize that physics in a box is… or rather, <strong>infinite-volume physics</strong> is the ideal case. Once you take <span class="math inline">L</span> to infinity, you approach infinite-volume quantities, and then you have the physical situation.</p>
<p>Now, <strong>discretization errors</strong>—I won’t discuss them in detail, but they are also important. The more steps you take, the better.</p>
<hr>
<p>Regarding finite volume effects: would assuming a much larger but mostly empty box make computations much more intensive? <em>Empty in what sense? No particles?</em> If the box were infinite, most of it would be empty—we wouldn’t see particles except those we put in. But it’s slightly different. The nodes of the lattice all have fields defined. For every node, we have <span class="math inline">\psi(x)</span> defined. We work with a box where all fields interact, and even if you don’t insert particles, the vacuum fluctuates. The box is never empty; it’s filled with <strong>quantum fields</strong>. There are beautiful animations of virtual particle bubbles appearing and disappearing in this vacuum.</p>
<hr>
<p>It wouldn’t make sense to change discretization to have different spacings. Maybe varying grid spacing could be considered, but this is related to the <strong>Serber curve</strong> and confinement. The grid spacing determines the scale at which you cut off the theory. Small step sizes are crucial because if <span class="math inline">a</span> is too large, QCD loses confinement.</p>
<p>To answer your question: changing <span class="math inline">a</span> must be done carefully. Lattice researchers ensure results aren’t strongly affected by spacing by performing computations at multiple discretization levels. For example, in lattice papers, you’ll see results for <span class="math inline">a = 11.1, 11.5, 11.2</span> fm, etc., to demonstrate discretization errors are under control. This is a tricky subject, often addressed numerically.</p>
<hr>
<p>Now, how are changes in states implemented? Is it some sort of hopping probability for particles? What we do is compute observables—specifically, <strong>correlation functions</strong>. These are expectation values of operators at time <span class="math inline">t</span> and time <span class="math inline">0</span>, formally defined as:</p>
<p><span class="math display">
\langle O(t)O(0) \rangle = \frac{\int \mathcal{D} \psi \mathcal{D} \bar{\psi} \, O(t)O(0) e^{-S[\psi, \bar{\psi}]}}{\int \mathcal{D} \psi \mathcal{D} \bar{\psi} \, e^{-S[\psi, \bar{\psi}]}},
</span></p>
<p>where <span class="math inline">S</span> is the action. On the lattice, this involves <span class="math inline">(L/a)^3 \times (T/a) \times 4</span> (Lorentz) <span class="math inline">\times 3</span> (color) dimensions. The <span class="math inline">\psi</span> field is a 4D Dirac spinor with color and flavor (SU(3)).</p>
<p>This integral is enormous—think <span class="math inline">10^4</span> dimensions or more. Numerically evaluating it by direct discretization is impossible. Instead, we use <strong>Monte Carlo methods</strong> from statistical mechanics. We generate field configurations (samples) and evaluate observables statistically.</p>
<hr>
<p>The key problem is the oscillatory phase factor in Minkowski space, which ruins convergence. To fix this, we <strong>Wick-rotate</strong> to Euclidean time, making the weights real and the integral tractable.</p>
<p>In Euclidean space, operator correlations decay exponentially with energy gaps. For example, a two-point function <span class="math inline">\langle O(t)O(0) \rangle</span> behaves as:</p>
<p><span class="math display">
\sum_n |\langle 0|O|n \rangle|^2 e^{-E_n t}.
</span></p>
<p>At large <span class="math inline">t</span>, the lightest state dominates.</p>
<p>To extract energies, we study the <strong>effective mass</strong>:</p>
<p><span class="math display">
m_{\text{eff}}(t) = -\log \left( \frac{C(t)}{C(t-1)} \right),
</span></p>
<p>which plateaus at the ground-state energy. This is how lattice QCD computes particle masses (e.g., pions, rho mesons) and other spectral quantities.</p>
<hr>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The <strong>exponential suppression</strong> of finite-volume effects and the <strong>Yukawa potential</strong> are central to understanding lattice QCD’s accuracy. The Euclidean correlation functions and effective mass method are critical for extracting physical quantities numerically.</p>
</div>
</div>
</div>
</section>
<section id="quantization-of-momentum-from-periodic-boundary-conditions" class="level3" data-number="11.9">
<h3 data-number="11.9" class="anchored" data-anchor-id="quantization-of-momentum-from-periodic-boundary-conditions"><span class="header-section-number">11.9</span> Quantization of Momentum from Periodic Boundary Conditions</h3>
<p>Let me say one last thing. We are already over time, but it’s important to note that the homework exercise today is to realize that <strong>the particle in the box is slightly different from the particle in this space</strong>.</p>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>Due to the periodic boundary condition, you have a quantization of the momentum. If your wave function is <span class="math inline">\psi(x) = e^{i p x}</span>, and you require that <span class="math inline">\psi(x + L) = \psi(x)</span>, you immediately realize that <span class="math inline">p L</span> must be <span class="math inline">2 \pi n</span>, where <span class="math inline">n</span> is an integer.</p>
</div>
</div>
</div>
<p>The key relationships discussed are:</p>
<ul>
<li>Wave function periodicity: <span class="math inline">\psi(x + L) = \psi(x)</span></li>
<li>Quantized momentum condition: <span class="math inline">p = \frac{2\pi n}{L}</span></li>
<li>Phase matching: <span class="math inline">e^{i p L} = e^{i 2\pi n} = 1</span></li>
</ul>
<hr>
<p>The <span class="math inline">n</span> comes in if you take more than one <span class="math inline">L</span>. It’s a <strong>phase condition</strong>: for the wave function to match, the exponent must satisfy <span class="math inline">p L = 2 \pi n</span>. This ensures:</p>
<p><span class="math display">
e^{i p L} = e^{i 2 \pi n} = 1
</span></p>
<p>meaning the phase repeats every <span class="math inline">L</span>.</p>
<hr>
<p>I thought <span class="math inline">L</span> would be just <span class="math inline">2 \pi</span>, and <span class="math inline">n L</span> could be <span class="math inline">2 \pi n</span>. But this is the same principle as a standard wave. Even if the phase is <span class="math inline">4 \pi</span>, it still represents a single period.</p>
<hr>
<p>Key points to remember:</p>
<ul>
<li>The integer <span class="math inline">n</span> represents the quantum number for allowed momentum states</li>
<li>The quantization condition <span class="math inline">p L = 2\pi n</span> arises from periodic boundary requirements</li>
<li>The phase must return to its original value after distance <span class="math inline">L</span></li>
</ul>
</section>
<section id="quantized-momentum-and-energy-shifts-in-a-periodic-two-particle-system" class="level3" data-number="11.10">
<h3 data-number="11.10" class="anchored" data-anchor-id="quantized-momentum-and-energy-shifts-in-a-periodic-two-particle-system"><span class="header-section-number">11.10</span> Quantized Momentum and Energy Shifts in a Periodic Two-Particle System</h3>
<p>What I mean is just that it shouldn’t be one if it’s anything less than <span class="math inline">L</span>. It shouldn’t be one if it’s anything less than <span class="math inline">L</span>. For <span class="math inline">l = \frac{1}{2}</span>, it could be one. Why not?</p>
<p>So it means that the <strong>momentum of particles is quantized</strong> and can only take values in steps as small as <span class="math inline">\frac{1}{L}</span>. The quantized momentum condition for particles in a periodic system is:</p>
<p><span class="math display">
p_n = \frac{2\pi n}{L} \quad \text{where } n \in \mathbb{Z}.
</span></p>
<p>Therefore, if you consider a two-particle system, it has a <strong>discrete spectrum</strong>. Here, <span class="math inline">M = 1</span>, <span class="math inline">n = 2</span>, <span class="math inline">n = 3</span>, and <span class="math inline">n = 4</span>. This is the periodic boundary condition.</p>
<p>You can think of two particles moving in a circle of length <span class="math inline">L</span>. The one-dimensional case of this box computation would be a circle, and the spectrum is discrete.</p>
<hr>
<p>In that case, the energy of the system is equal to the sum of the energies of the particles. For a <strong>non-interacting system</strong>, the energy spectrum is:</p>
<p><span class="math display">
E_{\text{non-int}} = \sum_{i=1}^{2} \frac{p_i^2}{2m} = \sum_{i=1}^{2} \frac{(2\pi n_i)^2}{2mL^2}.
</span></p>
<p>The particles are freely moving and do not interact. However, once interactions are introduced, the energy of the system becomes slightly different. We can still write the total energy, but we must account for the interaction energy.</p>
<hr>
<p>It is natural that the spectrum of an <strong>interacting system</strong> differs from the non-interacting case. There is a shift due to interaction:</p>
<p><span class="math display">
\Delta E = E_{\text{int}} - E_{\text{non-int}}}.
</span></p>
<p>This is the idea behind computing interactions on the lattice and performing spectroscopy. First, compute the spectrum without interactions. Then, compute it with interactions and observe how the energy levels shift.</p>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The difference between these levels gives information about the <strong>phase shift of the interaction</strong>. The relation between the energy shift and the scattering phase is given by Lüscher’s formula for periodic boundary conditions: <span class="math display">
\Delta E = -\frac{4\pi a}{mL^3} \left[1 + c_1 \frac{a}{L} + c_2 \left(\frac{a}{L}\right)^2 \right] + \mathcal{O}(L^{-6}),
</span> where <span class="math inline">a</span> is the <strong>scattering length</strong> and <span class="math inline">c_i</span> are numerical constants.</p>
</div>
</div>
</div>
<hr>
<p>To measure this, you compute the <strong>two-point correlator</strong>:</p>
<p><span class="math display">
C(t) = \langle \mathcal{O}(t) \mathcal{O}^\dagger(0) \rangle \propto e^{-Et}.
</span></p>
<p>For example, compute this quantity for two pions. Observe where it saturates at high <span class="math inline">T</span>. The saturation point gives a measurement of the energy level.</p>
<p>Repeat the same computation for the interacting system. Compare the two results to determine the shift. Relate the shift to the scattering phase.</p>
<p>The way collision data connects to the answer is through another technique, typically analyzed in configuration space with real-valued wavefunctions.</p>
</section>
<section id="exploring-hadron-structure-and-scattering-amplitudes-in-lattice-qcd" class="level3" data-number="11.11">
<h3 data-number="11.11" class="anchored" data-anchor-id="exploring-hadron-structure-and-scattering-amplitudes-in-lattice-qcd"><span class="header-section-number">11.11</span> Exploring Hadron Structure and Scattering Amplitudes in Lattice QCD</h3>
<p>This is my latest QCD lecture. I invite you to the full lectures if someone offers them—it’s a <strong>fascinating subject</strong>. In recent years, we have learned so much about the <strong>hadron spectrum</strong> from lattice QCD.</p>
<hr>
<p>The lattice provides an <strong>isolated setup</strong> free from experimental effects. You can perform calculations that are <strong>impossible in experiments</strong>. For example, you can scatter two pions. While pion scattering is possible experimentally, processes like a photon scattering off a sigma meson are <strong>unattainable in experiments</strong>—but not on the lattice.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The sigma meson, a pion-pion S-wave state, is one of the low-energy <strong>tetraquark candidates</strong> observed as a “blob” in the spectrum.</p>
</div>
</div>
</div>
<p>By studying pion-pion scattering and inserting a photon current, you can compute <strong>correlation functions</strong> to access form factors. These form factors reveal the <strong>spatial distribution</strong> of quarks and gluons inside mesons.</p>
<hr>
<p>One exciting frontier of lattice QCD is probing hadron structure by inserting currents. This allows you to visualize how quarks and gluons are distributed spatially. Such studies are impossible in QED, where you only have pure electronic states.</p>
<p>In QCD, you can compute form factors, but fixing <strong>low-energy constants</strong> is challenging. Some researchers working on LPT might disagree, but I’m unaware of a reliable method.</p>
<p>For higher-energy experiments involving low-lying resonances, you produce them via stable particles. You only access the production amplitude, such as: <span class="math display"> \pi + \text{proton} \to \text{target} </span></p>
<hr>
<p>Unitarity constraints, which we discussed earlier, are much stricter for scattering amplitudes. In the last lecture, I wrote a matrix element on the board, and Henrik pointed out: <em>“Shouldn’t the imaginary part be positive due to unitarity?”</em></p>
<p>This refers to the scattering amplitude <span class="math inline">T(s)</span>, where: <span class="math display"> \text{Im}\,T(s) \geq 0 \quad \text{and} \quad |T(s)| \leq 1 </span> For purely elastic scattering, <span class="math inline">|T_{el}(s)| = 1</span>—it must lie on the <strong>unitary circle</strong>.</p>
<hr>
<p>On the lattice, you can access amplitudes like:</p>
<ul>
<li><span class="math inline">\pi\pi \to \pi\pi</span></li>
<li><span class="math inline">\pi\pi \to KK</span></li>
<li><span class="math inline">\pi K \to \pi K</span></li>
</ul>
<p>…all while controlling quark masses. You can make pions <strong>massless</strong> or <strong>massive</strong>, drastically altering the elastic region.</p>
<ul>
<li>With <strong>massless pions</strong>, thresholds for <span class="math inline">2\pi</span>, <span class="math inline">3\pi</span>, and <span class="math inline">5\pi</span> states coincide.</li>
<li>With <strong>massive pions</strong>, a large elastic region opens where the <span class="math inline">2\pi</span> threshold is accessible but higher thresholds (e.g., <span class="math inline">3\pi</span>) remain closed.</li>
</ul>
<hr>
<p>This allows nearly <strong>parameter-free studies</strong> using unitarity constraints. By varying quark masses, you can make particles transition in the complex <span class="math inline">K</span>-plane, where: <span class="math display"> K(s) = \sqrt{s/4 - m^2} </span></p>
<p>Resonances appear as <strong>poles in the second Riemann sheet</strong>. You can smoothly connect:</p>
<ul>
<li><strong>Bound states</strong></li>
<li><strong>Resonances</strong></li>
<li><strong>Virtual states</strong></li>
</ul>
<p>…all manifestations of QCD.</p>
<hr>
<p>Bound states, virtual states, and resonances are <strong>deeply interconnected</strong>. Depending on quark masses <span class="math inline">m_q</span>, a bound state can become a resonance or vice versa. This reveals the <strong>unified nature</strong> of these phenomena in QCD.</p>
</section>
<section id="preparing-exercise-sheets-and-closing-remarks" class="level3" data-number="11.12">
<h3 data-number="11.12" class="anchored" data-anchor-id="preparing-exercise-sheets-and-closing-remarks"><span class="header-section-number">11.12</span> Preparing Exercise Sheets and Closing Remarks</h3>
<ul>
<li><strong>On exercise sheets:</strong> I hope you’re going to like the <strong>exercise sheet</strong> that Ilya kindly prepared and printed for you. I prepared it in the night, and Ilya printed it.</li>
</ul>
<hr>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p><strong>Acknowledgments:</strong> Thank you very much for coming today, and sorry for going a little bit overtime. <em>Well done.</em></p>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>