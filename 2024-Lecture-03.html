<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="">

<title>(2024) Lecture 3 – Hadron Physics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 3.8em;
  margin: 0 3.8em 3.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-065a5179aebd64318d7ea99d77b64a9e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-7d3a565c23c4d3b0e7c030e96a8964f3.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#recording-and-transcribing-lectures-with-whisper" id="toc-recording-and-transcribing-lectures-with-whisper" class="nav-link active" data-scroll-target="#recording-and-transcribing-lectures-with-whisper"><span class="header-section-number">3.1</span> Recording and Transcribing Lectures with Whisper</a></li>
  <li><a href="#isospin-assignments-and-matrix-representations-for-hadrons" id="toc-isospin-assignments-and-matrix-representations-for-hadrons" class="nav-link" data-scroll-target="#isospin-assignments-and-matrix-representations-for-hadrons"><span class="header-section-number">3.2</span> Isospin Assignments and Matrix Representations for Hadrons</a></li>
  <li><a href="#spin-and-charge-combinations-in-quark-systems" id="toc-spin-and-charge-combinations-in-quark-systems" class="nav-link" data-scroll-target="#spin-and-charge-combinations-in-quark-systems"><span class="header-section-number">3.3</span> Spin and Charge Combinations in Quark Systems</a></li>
  <li><a href="#symmetries-and-construction-of-the-proton-wave-function-in-su4-space" id="toc-symmetries-and-construction-of-the-proton-wave-function-in-su4-space" class="nav-link" data-scroll-target="#symmetries-and-construction-of-the-proton-wave-function-in-su4-space"><span class="header-section-number">3.4</span> Symmetries and Construction of the Proton Wave Function in SU(4) Space</a></li>
  <li><a href="#probing-proton-structure-elastic-scattering-form-factors-and-the-three-quark-model" id="toc-probing-proton-structure-elastic-scattering-form-factors-and-the-three-quark-model" class="nav-link" data-scroll-target="#probing-proton-structure-elastic-scattering-form-factors-and-the-three-quark-model"><span class="header-section-number">3.5</span> Probing Proton Structure: Elastic Scattering, Form Factors, and the Three-Quark Model</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">(2024) Lecture 3</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Spring 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><strong>Presenter</strong>: Mikhail Mikhasenko</p>
<p><strong>Note Taker</strong>: Ilya Segal</p>
<section id="recording-and-transcribing-lectures-with-whisper" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="recording-and-transcribing-lectures-with-whisper"><span class="header-section-number">3.1</span> Recording and Transcribing Lectures with Whisper</h3>
<p>My experiment with recording lectures has been <strong>relatively successful</strong>, so I could recover what I was speaking.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p><strong>Speech-to-Text Technology:</strong> There is an open large language model from OpenAI called <strong>Whisper</strong> that can translate audio to text. Since the architecture is known, it runs even on CPUs in parallel, such as on a Mac. You just:</p>
<ol type="1">
<li>Download it</li>
<li>Execute it And then you have a transcript of your speech.</li>
</ol>
</div>
</div>
</div>
<hr>
<p><em>Important notes about recording:</em></p>
<ul>
<li>The lecture is recorded</li>
<li>I do it for myself</li>
<li>It might be converted to a document</li>
</ul>
<div class="callout callout-style-simple callout-tip">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p><strong>Collaboration Opportunity:</strong> If someone would volunteer to:</p>
<ul>
<li>Type the questions</li>
<li>Add the equations</li>
<li>Check them That would be helpful.</li>
</ul>
</div>
</div>
</div>
<hr>
<p>I don’t know what to do with that yet, but just <em>for fun</em> and for exploring the technologies, I will keep the recordings.</p>
<p><strong>Important limitation:</strong> It records only me in the sense that it mostly captures my voice. Don’t hesitate to talk back, as this will not appear in the recordings anyway.</p>
</section>
<section id="isospin-assignments-and-matrix-representations-for-hadrons" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="isospin-assignments-and-matrix-representations-for-hadrons"><span class="header-section-number">3.2</span> Isospin Assignments and Matrix Representations for Hadrons</h3>
<p>Today we will discuss <strong>structure functions</strong>, the structure of hadrons, their internal composition, and how we study them. Before diving deeper, let’s start with a recap and address a few questions. These questions will remain on the board for later discussion.</p>
<hr>
<p><strong>Question 1</strong>: Without consulting the PDG, determine the isospin of these particles based on their quark content:</p>
<ul>
<li><span class="math inline">c \bar{s}</span></li>
<li><span class="math inline">b q</span></li>
<li><span class="math inline">b s</span></li>
<li><span class="math inline">q \bar{q}</span></li>
</ul>
<p><strong>Question 2</strong>: What is the dimensionality of the isospin matrix acting on a system of three quarks with two possible charges? If we treat the quarks as a wave function in two dimensions—where spin-up corresponds to the <span class="math inline">u</span>-quark and spin-down to the <span class="math inline">d</span>-quark—what is the size of this matrix?</p>
<p><strong>Question 3</strong>: What are the irreducible representations of this matrix’s action on the quarks? In other words, how does it decompose into independent blocks that do not interact?</p>
<hr>
<p>When discussing isospin, we focus on <strong>light quarks</strong>. The first meson, <span class="math inline">c \bar{s}</span>, contains no light quarks, so its isospin is <span class="math inline">0</span>.</p>
<p>For the <span class="math inline">B</span>-mesons:</p>
<ul>
<li>If the quark <span class="math inline">q</span> is light (e.g., <span class="math inline">u</span> or <span class="math inline">d</span>), the isospin is <span class="math inline">\frac{1}{2}</span>.</li>
<li>If <span class="math inline">q</span> is heavy (e.g., <span class="math inline">c</span> or <span class="math inline">b</span>), the isospin is <span class="math inline">0</span>.</li>
</ul>
<p>The <span class="math inline">s</span>-quark belongs to the light quarks in <span class="math inline">SU(3)</span> but is excluded in isospin discussions. For the <span class="math inline">b s</span> state, if <span class="math inline">s</span> is the only light quark, the isospin is <span class="math inline">\frac{1}{2}</span>.</p>
<p>For a pentaquark with three light quarks, the isospin matches that of the <span class="math inline">\Delta</span>-baryons. The <span class="math inline">\Delta</span> states (<span class="math inline">\Delta^{++}</span>, <span class="math inline">\Delta^+</span>, <span class="math inline">\Delta^0</span>, <span class="math inline">\Delta^-</span>) have isospin <span class="math inline">\frac{3}{2}</span>.</p>
<hr>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p><strong>Clarification</strong>: When assigning isospin to a particle, we refer to the <strong>length of the isospin vector</strong>, not its projection. For example, the <span class="math inline">B</span>-meson’s isospin <span class="math inline">\frac{1}{2}</span> implies two charge states:</p>
<ul>
<li><span class="math inline">B^+ = b \bar{u}</span></li>
<li><span class="math inline">B^0 = b \bar{d}</span></li>
</ul>
<p>The antiparticles are fully conjugated:</p>
<ul>
<li><span class="math inline">B^- = \bar{b} u</span></li>
<li><span class="math inline">\bar{B}^0 = \bar{b} d</span></li>
</ul>
<p>These form a separate triplet in the antiparticle space.</p>
</div>
</div>
</div>
<hr>
<ol type="1">
<li><p><strong>Isospin assignments for mesons</strong>: <span class="math display">
I = \begin{cases}
0 &amp; \text{(no light quarks)} \\
\frac{1}{2} &amp; \text{(one light quark)} \\
1 &amp; \text{(two light quarks)}
\end{cases}
</span></p></li>
<li><p><strong>Isospin of the <span class="math inline">\Delta</span>-baryon</strong>: <span class="math display">
I_\Delta = \frac{3}{2}
</span></p></li>
<li><p><strong>Dimensionality of the isospin matrix for three quarks</strong>: <span class="math display">
\text{dim}(\mathbf{I}) = 8 \times 8
</span></p></li>
<li><p><strong>Irreducible representations for three quarks in <span class="math inline">SU(2)</span></strong>: <span class="math display">
\mathbf{2} \otimes \mathbf{2} \otimes \mathbf{2} = \mathbf{4} \oplus \mathbf{2} \oplus \mathbf{2}
</span></p></li>
</ol>
<ul>
<li><span class="math inline">\mathbf{4}</span>: Symmetric (spin-<span class="math inline">\frac{3}{2}</span>, like <span class="math inline">\Delta</span>).</li>
<li><span class="math inline">\mathbf{2}</span>: Mixed-symmetry (spin-<span class="math inline">\frac{1}{2}</span>).</li>
</ul>
<ol start="5" type="1">
<li><strong>Charge states of <span class="math inline">B</span>-mesons</strong>: <span class="math display">
B^+ = b \bar{u}, \quad B^0 = b \bar{d}, \quad B^- = \bar{b} u, \quad \bar{B}^0 = \bar{b} d
</span></li>
</ol>
</section>
<section id="spin-and-charge-combinations-in-quark-systems" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="spin-and-charge-combinations-in-quark-systems"><span class="header-section-number">3.3</span> Spin and Charge Combinations in Quark Systems</h3>
<p>Now, <strong>Cascade B</strong> has spin <strong>1/2</strong>.</p>
<ul>
<li><strong>1/2</strong> means that the dimensionality is <span class="math inline">2J + 1 = 2</span>.</li>
<li>There are two particles of this type: <strong>Cascade B</strong> and <strong>Cascade B</strong>.</li>
</ul>
<hr>
<p>Now, the <strong>charges</strong>. The quark charges are:</p>
<ul>
<li><strong>Lower row (D, S, B)</strong>: <span class="math inline">Q = -\frac{1}{3}</span></li>
<li><strong>Upper row (U, C, T)</strong>: <span class="math inline">Q = +\frac{2}{3}</span></li>
</ul>
<p>When I combine three lower-row quarks like <strong>DDD</strong>, the total charge is <span class="math inline">-1</span>. If I combine three upper-row quarks like <strong>UUU</strong>, the total charge is <span class="math inline">+2</span>. <em>Intermediate combinations give other values.</em></p>
<hr>
<p>Here, I combined <strong>B</strong> and <strong>S</strong>.</p>
<ul>
<li>I almost have the full bottom row: <strong>B</strong> and <strong>S</strong>.</li>
<li>If I had another lower-row quark, the total charge would be <span class="math inline">-1</span>, but instead, I have an upper-row quark, so the total charge is <strong>zero</strong>.</li>
<li>That’s why it’s zero here.</li>
<li>If you replace it with a lower-row quark, you get <span class="math inline">-1</span>.</li>
</ul>
<hr>
<p>Now we come to the last case, which has <strong>three quarks</strong> and several possible combinations.</p>
<ul>
<li>What is the spin of this state?</li>
<li>What are the possible combinations for spin <strong>1/2</strong> (P-C plus and P-C zero)?</li>
<li>For spin <strong>3/2</strong>, I will have P-C.</li>
<li>The <strong>1/3</strong> means four particles in the multiplet, like <strong>Delta plus-plus</strong>.</li>
</ul>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The dimensionality of the isospin matrix acting on three quarks is <span class="math inline">2^3 = 8</span>. We have an <span class="math inline">8 \times 8</span> matrix, but we can split it into irreducible representations.</p>
</div>
</div>
</div>
<hr>
<p>An interesting question: What is the antiparticle for <strong>P-C plus</strong>?</p>
<ul>
<li>For <strong>P-C plus</strong>, the antiparticle is not <strong>P-C minus</strong>—it’s <strong>P-C plus bar</strong>.</li>
<li>For baryons, it’s important to distinguish baryons from antibaryons because they have different quark components.</li>
</ul>
<hr>
<p>Now, let’s discuss the <strong>irreducible representation</strong> of the three quarks. Combining three spin-<strong>1/2</strong> particles:</p>
<ol type="1">
<li>First, combine two spin-<strong>1/2</strong> particles to get spin-0 or spin-1.</li>
<li>Then, combine the result with the third spin-<strong>1/2</strong> particle.</li>
<li>The dimensionality check: <span class="math inline">2 \times 2 \times 2 = 8</span> matches <span class="math inline">2 + 2 + 4</span>.</li>
</ol>
<hr>
<p>To construct the basis for the highest isospin state, start with <span class="math inline">|uuu\rangle</span> and apply the lowering operator: <span class="math display">
J_- |J, J\rangle = \sqrt{2J} \, |J, J-1\rangle
</span> For <span class="math inline">J = 3/2</span>, this gives: <span class="math display">
J_- |3/2, 3/2\rangle = \sqrt{3} \, |3/2, 1/2\rangle
</span> The normalized state is: <span class="math display">
|3/2, 1/2\rangle = \frac{1}{\sqrt{3}}(|uud\rangle + |udu\rangle + |duu\rangle)
</span></p>
<hr>
<p>For the spin-<strong>1/2</strong> states, we construct orthogonal combinations: <span class="math display">
|1/2, 1/2\rangle = \frac{1}{\sqrt{6}}(2|uud\rangle - |udu\rangle - |duu\rangle)
</span> Applying the lowering operator gives: <span class="math display">
|1/2, -1/2\rangle = \frac{1}{\sqrt{6}}(2|ddu\rangle - |dud\rangle - |udd\rangle)
</span></p>
<hr>
<p>The same logic applies to higher spins.</p>
<ul>
<li>For example, combining two spin-1 particles gives spin-0, spin-1, or spin-2.</li>
<li>The dimensionality check: <span class="math inline">3 \times 3 = 1 + 3 + 5</span>.</li>
</ul>
<p>This is <strong>standard spin algebra</strong>, applicable to both integer and half-integer spins. The key is to start with the highest state and use lowering operators to construct the rest. <strong>Normalization and orthogonality</strong> are ensured by Clebsch-Gordan coefficients.</p>
<hr>
<p>For practical calculations, you can derive these coefficients using ladder operators. For example, the spin-1 triplet states are: <span class="math display">
|1, 1\rangle = |\uparrow \uparrow\rangle, \quad |1, 0\rangle = \frac{1}{\sqrt{2}}(|\uparrow \downarrow\rangle + |\downarrow \uparrow\rangle), \quad |1, -1\rangle = |\downarrow \downarrow\rangle
</span> The singlet state is: <span class="math display">
|0, 0\rangle = \frac{1}{\sqrt{2}}(|\uparrow \downarrow\rangle - |\downarrow \uparrow\rangle)
</span></p>
<hr>
<p>This method works for <strong>any spin combination</strong>. For three quarks, the irreducible representations are:</p>
<ul>
<li>A <strong>quartet</strong> (spin-<strong>3/2</strong>)</li>
<li>Two <strong>doublets</strong> (spin-<strong>1/2</strong>)</li>
</ul>
<p>The same principles apply to <strong>isospin</strong> and <strong>flavor SU(3)</strong>, though SU(3) is more complex. For <strong>SU(2)</strong>, it’s straightforward spin addition. You need to be comfortable with:</p>
<ul>
<li>Dimensionalities</li>
<li>Lowering operators</li>
<li>Orthogonal combinations</li>
</ul>
<hr>
<p>This is <strong>foundational</strong> for:</p>
<ul>
<li>Quantum mechanics</li>
<li>Particle physics</li>
<li>Group theory</li>
</ul>
<p><strong>Practice is essential</strong>—start with simple cases and build up.</p>
</section>
<section id="symmetries-and-construction-of-the-proton-wave-function-in-su4-space" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="symmetries-and-construction-of-the-proton-wave-function-in-su4-space"><span class="header-section-number">3.4</span> Symmetries and Construction of the Proton Wave Function in SU(4) Space</h3>
<p>In order to proceed and talk about structure functions, today in the lecture we need to get the proton wave function, because that’s something from which the understanding of the internal structure of the hadrons comes. In the homework, you will have other questions related to the delta’s internal structure.</p>
<hr>
<p>I would like to start with the symmetries of the baryon wave function. We have to operate in the <span class="math inline">SU(4)</span> space. One of them is <strong>color</strong>, which we’ve already discussed. The baryon wave function would have color indices and must be color-neutral, as all hadrons are.</p>
<p>We have to work with:</p>
<ol type="1">
<li>A <strong>space wave function</strong> that essentially describes how the wave function is distributed in space—its dependence on <span class="math inline">x</span> and time <span class="math inline">t</span>.</li>
<li><strong>Isospin</strong></li>
<li><strong>Spin</strong></li>
</ol>
<div class="callout callout-style-simple callout-important">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>It’s important to realize that, in the general case, they are <strong>not factorizable</strong>. You cannot say you have to deal with the product of the functions. The wave function lives in this product of the four spaces and can mix the spaces. You need to have a sum of the components in these spaces. It would be unfair to write, in the general case, isospin times the rest—not true in general.</p>
</div>
</div>
</div>
<hr>
<p>The color wave function is a <strong>singlet</strong>, meaning it’s a number, a scalar; it doesn’t have dimensionality in components. Therefore, the color wave function can be factored out.</p>
<p>There is a good argument why the space wave function is a scalar and can be factored out as well. I haven’t convinced myself of that, but one should find the argument for it in the literature. That’s something I ask you to take as given—I don’t have a good justification.</p>
<p>So the wave function for coordinate dependence will also factorize. What remains is <strong>spin and isospin</strong>, and these two do not factorize. That’s a large-dimensional representation.</p>
<hr>
<p>We are going to deal with baryons made of three quarks, and every quark has a spin. So we are still working with the same group, but now we have many dimensions. Every quark is the product of two: <strong>flavor</strong> and <strong>spin</strong>. And since it’s a product of three quarks, we are going to deal with a basis in six dimensions. It’s the same thing as before.</p>
<p>To build the representation of particles in these six dimensions, we are going to act with the lowering operator, starting with something we know—one we know with no ambiguities: the delta, which has spin <span class="math inline">\frac{3}{2}</span>.</p>
<p>When the delta has spin <span class="math inline">\frac{3}{2}</span>, the only combination we can come up with is <span class="math inline">|\!u\!\!\uparrow u\!\!\uparrow u\!\!\uparrow \rangle</span>. The <span class="math inline">\Delta^{++}</span> with <span class="math inline">J_z = \frac{3}{2}</span> is obtained by acting with the lowering operator.</p>
<hr>
<p>What happens if we act with the lowering operator in the isospin space? <span class="math inline">G_-</span> acting on <span class="math inline">|\!u\!\!\uparrow u\!\!\uparrow u\!\!\uparrow \rangle</span>.</p>
<ul>
<li>If we act with the lowering operator in the <strong>spin space</strong>, we reduce the projection.</li>
<li>If we act with the lowering operator in the <strong>flavor space</strong>, we reduce the charge and obtain a different particle: the <span class="math inline">\Delta^+</span>.</li>
</ul>
<p>Then you can think about how to construct <span class="math inline">\Delta^-</span>, <span class="math inline">\Delta^0</span> with <span class="math inline">J_z = \frac{1}{2}</span>. We need to act twice with the lowering operator in the flavor space and once with the lowering operator in the spin space.</p>
<hr>
<p>Now, the proton appears as a wave function that is orthogonal. So, <span class="math display">
\frac{1}{2} \otimes \frac{1}{2} \otimes \frac{1}{2} = \left( \frac{3}{2} \right) \oplus \left( \frac{1}{2} \right) \oplus \left( \frac{1}{2} \right)
</span></p>
<p>This is <span class="math inline">4 + 2 + 2</span> dimensions. The proton is the particle made of the same quarks as the delta but has isospin <span class="math inline">\frac{1}{2}</span> and spin <span class="math inline">\frac{1}{2}</span>. Therefore, we have to construct a wave function that is orthogonal in both spin and isospin spaces.</p>
<p>That’s one way—we’re not going to do that because it’s not super clear to you yet. I think it’s just technically complicated, but you would be able to do it if you sit and work on it for a few hours.</p>
<hr>
<p>What we are going to do is explore the symmetry. The baryon wave function in the symmetric configuration is symmetric. This is a new symmetry—we haven’t discussed this yet. It’s not related to <span class="math inline">SU(2)</span> directly; it’s something new we’ve introduced.</p>
<p>We are now going to swap dimensions—just take one particle with its spin and isospin and swap it with another. This is sort of an external look at those symmetries. We have a basis function that we construct, and now we can examine whether they have certain permutation symmetry. We didn’t intend to construct them with built-in symmetry, and we will see that most of them have no symmetry—they are not eigenstates of permutation.</p>
<hr>
<p>But before doing that, let’s see what we actually demand from the function. The total <span class="math inline">\psi</span> must be symmetric under permutation. So, <span class="math inline">\psi_{\text{antisymmetric}}(1,2,3) = -\psi(2,1,3)</span>. Here, we essentially swap the dimensions of particle 1 and particle 2.</p>
<p>The color wave function is antisymmetric. To see this, you need to examine its form because this is a different group—color transforms under <span class="math inline">SU(3)</span>.</p>
<p>In three dimensions, there are three colors, and in that case, it’s not as simple as spin algebra. The representations of <span class="math inline">SU(3)</span> are more complicated: there are decuplets, octets, and that comes from combining three quarks.</p>
<p><span class="math display">
\mathbf{3} \otimes \mathbf{3} \otimes \mathbf{3} = \mathbf{1} \oplus \mathbf{8} \oplus \mathbf{8} \oplus \mathbf{10}
</span></p>
<p>These are dimensions—not spins. Three times three times three equals <span class="math inline">1 + 8 + 8 + 10</span> (27 total).</p>
<p>The singlet is 1, and the wave function for the singlet can be constructed similarly to what we discussed. But you see that it’s easiest to start with the highest-dimensional representation (the 10) because for them, you would know.</p>
<p>For the 10, you would start with <span class="math inline">|RRR \rangle</span> and act with the lowering operator to get the full multiplet. Then you construct the octets—there are two of them—and for components like <span class="math inline">|RGB \rangle</span>, <span class="math inline">|RBG \rangle</span>, etc., you need to find combinations that match.</p>
<p>But the answer is essentially that the totally antisymmetric combination is: <span class="math display">
\psi_{\text{color}} = |RGB\rangle - |RBG\rangle + |GRB\rangle - |GBR\rangle + |BRG\rangle - |BGR\rangle
</span></p>
<p>It’s easy to write down if you start with one term and add all permutations, where the sign depends on whether the permutation is odd or even. All even permutations have a plus sign, odd permutations have a minus sign. From this, you find that the color wave function is antisymmetric under permutation—if you swap two, you get a minus sign.</p>
<p>The space wave function is symmetric—we are talking about ground-state baryons, which are in the simplest symmetric configuration. Now, the spin + isospin wave function must be symmetric.</p>
<hr>
<p>Let’s do an example of the combinations we are allowed to work with. In order to construct a wave function for a proton, we have to combine it in the representation that has isospin one-half and spin one-half.</p>
<p>Let’s examine some of these basis functions. Is this symmetric or antisymmetric under permutation? Well, it depends on which particles I pick. If I pick particle one and two and swap them, this doesn’t change. This one becomes <span class="math inline">D U U</span>, and that one becomes <span class="math inline">U D D</span>. The plus sign remains, and there is a plus <span class="math inline">D U D</span>, <span class="math inline">D U U</span>, and minus. So essentially, the function is different—it doesn’t have a definite symmetry under permutation; it just goes to different wave functions.</p>
<p>However, it’s symmetric under permutations of quarks 2 and 3. If I take these two and permute them, these terms stay the same, and this series remains unchanged. So we construct a spin wave function that is symmetric only under the permutation of 2 and 3. And that’s what one observes.</p>
<p>The proton wave function can be essentially guessed by combining spin: combining <span class="math inline">\frac{1}{2}</span>, <span class="math inline">\frac{1}{2}</span> spin, <span class="math inline">\frac{1}{2}</span> in flavor—symmetric flavor and symmetric spin. Here we have symmetric, and that was antisymmetric. You see, under the permutation of the screen, if I swap 2 and 3, the wave function becomes that but with a minus sign. Therefore, it’s antisymmetric. Symmetric under 2-3, antisymmetric under 1-2.</p>
<p>In order to build the proton wave function, I take the flavor representation from here and combine it with the spin wave function. The spin wave function is from here again, but instead of <span class="math inline">U</span> and <span class="math inline">D</span>, I’m going to write up and down.</p>
<p>What does this tell us? That it is not symmetric in the first two particles? It tells us that it’s illegal to use that. We cannot use it. It does not represent a valid baryon wave function. If we use just this term without that, it would be illegal. The point is that the wave function transforms into another wave function.</p>
<p>When we combine three quarks, we get the spin-<span class="math inline">\frac{3}{2}</span> representation and two spin-<span class="math inline">\frac{1}{2}</span> representations. If I apply the permutation operator to this, it leaves the representation. So the matrix that permutes is no longer decomposable in this representation. Since this permutation operator is external to the group (it doesn’t belong to the rotation group), it’s not the same as rotating. Therefore, we effectively see that this multiplet mixes with this one. To construct the proton, we need both of these spin-<span class="math inline">\frac{1}{2}</span> dimensions, and that’s essentially what we do.</p>
<p>One more comment on the same line: The delta lives here. The delta is a valid baryon. If I apply the permutation to this multiplet, I stay within the same multiplet. But for the proton, it lives in the mixture of these two.</p>
<p>Now, one has to do the algebra to find the answer, and then it’s going to be… So the proton wave function is going to be—I’ll write these components—the proton is spin-up, where one diagonal is going to be <span class="math inline">U U D</span>, <span class="math inline">U D U</span>, <span class="math inline">D U U</span>, and off-diagonally done. If you guys are satisfied with that, you should recover it.</p>
<p>The other combination is up-up-down, up-down-up, down-up-up. The way I—this is what I just worked out, and that’s the answer for the matrix. I show the coefficients in the basis of <span class="math inline">U</span> and <span class="math inline">D</span>, in the basis of three quarks of different flavors with different spin orientations. Along the rows, I put the same quark content; among the columns, I have the same spin orientation. So here it’s going to be <span class="math inline">U D</span>—same spin up-up-down, but then particle number is going to be <span class="math inline">U D U</span>.</p>
<p>And now, the normalization part quickly: all of them are orthogonal to each other, so the normalization just comes by summing these numbers straight: 4, 4, 4, 12 plus 6, 18. We have it—we have the wave function of the proton. Now we can evaluate the cool properties of the proton. That came as a surprise.</p>
<hr>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The proton wave function construction involves combining symmetric and antisymmetric components in spin and flavor spaces to satisfy the overall antisymmetry requirement due to the color wave function. This ensures the Pauli exclusion principle is obeyed for the quarks inside the baryon.</p>
</div>
</div>
</div>
</section>
<section id="probing-proton-structure-elastic-scattering-form-factors-and-the-three-quark-model" class="level3" data-number="3.5">
<h3 data-number="3.5" class="anchored" data-anchor-id="probing-proton-structure-elastic-scattering-form-factors-and-the-three-quark-model"><span class="header-section-number">3.5</span> Probing Proton Structure: Elastic Scattering, Form Factors, and the Three-Quark Model</h3>
<p>Now, let’s discuss <strong>three studies of structure</strong>. One of the ways we study and examine the structure is to use something we know very well. We take actually one of the simplest and first questions we can answer: <em>What is the charge distribution inside the hadron?</em> That’s done with the electron probing the charge.</p>
<p>When we scatter an electron off a hadron in this reaction, almost all variables are fixed. Essentially, the <strong>center-of-mass energy</strong> is fixed, and then there is just one variable remaining that describes the entire kinematics: the <strong>angle</strong>. When I scatter two particles and the energy is fixed, there is just one angle.</p>
<hr>
<p>Therefore, the experiment on the <strong>structure functions</strong>—the experiment that helps us understand the proton structure—is <strong>electron-proton scattering</strong>, observing the probability of the electron going in different directions. With the scattering experiment, we measure the <strong>angular distribution</strong>. From this, we gain insights into the proton’s <strong>charge distribution</strong> and <strong>magnetic moment</strong>. That’s called a <strong>scattering experiment</strong>.</p>
<p>It’s important to realize we will write many variables, like the <span class="math inline">Q^2</span> momentum transfer, but it’s all encoded in one. Essentially, you need to know the probability for the electron to go forward slightly. The kinematics in the lab frame look like this: the proton collides with the electron, and then the electron goes in a certain direction.</p>
<hr>
<p>This is a simple <strong>two-body scattering matrix</strong>, and the only variable that determines everything is the angle. So, what’s the probability for the electron to scatter? Will it have almost no change in direction, or will it go perpendicular? That determines the proton’s internal structure. It’s amazing to think this way.</p>
<p>Those who took nuclear physics before can easily tell me: <em>what is the most probable outcome?</em> Where will the electron go—perpendicular, 30 degrees, 20 degrees? Do you have a feeling?</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>The <strong>Rutherford scattering formula</strong> for point-like particles is: <span class="math display">\frac{d\sigma}{d\Omega} \propto \frac{1}{\sin^4(\theta/2)}</span> This explains the huge peak at small angles in the scattering probability.</p>
</div>
</div>
</div>
<p>Something you might remember is the <span class="math inline">\frac{1}{Q^4}</span> Rutherford scattering term, <span class="math inline">\frac{1}{\sin^4(\theta/2)}</span>. There’s a huge peak at around zero angle in the probability. Most of the time, the electron prefers to go straight with zero scattering angle. The deviation from that behavior tells us about the proton’s structure.</p>
<hr>
<p>That process is called <strong>elastic scattering</strong>—where initial particles are the same as the final state particles. In contrast, <strong>inelastic scattering</strong> is another important process where we probe the proton’s structure, and the proton dissociates. Here, the proton stays intact in elastic scattering, but in inelastic scattering, the electron and proton produce many different particles.</p>
<p>The result for the <strong>differential cross-section</strong> is derived from non-relativistic scattering, and you get the same even for point-like particles. An example of a point-like particle is the electron—it has no internal structure. If you scatter electrons or muons, you get an ideal cross-section of <span class="math inline">\frac{1}{\sin^4(\theta/2)}</span>.</p>
<hr>
<p>Elastic scattering has this huge peak at zero angle in the probability. If you calculate the diagrams for QED, you write the matrix element as <span class="math inline">\bar{u}\gamma^\mu u</span>, with propagators and spinors. For this course, we analyze it generally, so we won’t go into details, but it’s important to understand dimensionalities and the objects themselves. The matrix element is a <strong>scalar</strong>—it has no dimensionality, just a number obtained by contracting structures like spinors and gamma matrices.</p>
<p>When dealing with the proton, we extend the vertex function with <strong>form factors</strong>. What’s the dimensionality of this object? It’s a simple function of <span class="math inline">Q^2</span>. It’s convenient to introduce combinations of these form factors: the <strong>electric and magnetic form factors</strong>, <span class="math inline">G_E</span> and <span class="math inline">G_M</span>.</p>
<hr>
<p>In non-relativistic theory, they have a straightforward interpretation—they show the <strong>charge and magnetic distributions in momentum space</strong>. We can transform these to coordinate space via <strong>Fourier transform</strong>. The normalization of these form factors is fixed:</p>
<ul>
<li><span class="math inline">G_E(0)</span> gives the total charge (<strong>1 for the proton</strong>),</li>
<li><span class="math inline">G_M(0)</span> gives the magnetic moment.</li>
</ul>
<p>The <strong>magnetic moment</strong> is a quantity that reacts to a magnetic field. For an electron, it’s <span class="math inline">\frac{e}{2m_e}</span> (spin 1/2). For the proton, it’s different due to its structure. Experimentally, the proton’s magnetic moment is about <strong>2.79</strong>, not 1 as naively expected.</p>
<hr>
<p>This discrepancy arises because the proton is made of <strong>quarks</strong>. In the quark model, we account for quark charges (<span class="math inline">\frac{2}{3}</span>, <span class="math inline">-\frac{1}{3}</span>) and masses. The proton’s magnetic moment comes from the <strong>wave function structure</strong>, and the result matches experiment surprisingly well. For the neutron, it’s <strong>-1.91</strong>, again showing internal structure.</p>
<p>In summary, just knowing <strong>SU(2) and spin algebra</strong>, we can build the proton wave function and understand its magnetic moment—a clear sign the proton isn’t point-like. In the homework, you’ll work with the <strong>Δ baryon’s wave function</strong> and magnetic moment operator.</p>
<p>Apologies for running late, but thank you for your attention. We spent a lot of time on these <strong>foundational concepts</strong>, but they’re crucial. I hope to discuss more in future lectures.</p>
<hr>
<p>Another interesting thing here was the way to understand that there are <strong>three parts inside a proton</strong>. I remember from color? No, from scattering. From scattering, yeah. So how do you address three colors? Not three colors, but three quarks. But not three colors. Exactly. Three quarks.</p>
<p>Because—let’s think of the foil. So if protons they—correct. I think it’s also coming from various form factors. Form factors? From experiment. And you see the distribution of these form factors.</p>
<p>Nice. I don’t think the mission is the magnetic moment. I think because it really comes from some experimental distribution. But I’m not sure which exactly observable it was.</p>
<p>I remember three generations of particles comes from the widths of the W boson. But this is—it’s completely different. Three colors? It’s the spectroscopy of the mesons. So that’s the Eightfold Way. Because at this time, I think it was only part red. But now three quarks in the problem.</p>
<p>Why does it—I think it’s related to colors because only with three you can get an octet and decuplet. Yeah, but I’m talking about experiments. Yeah, at the time they were not great. Good point. Good question.</p>
<hr>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>Key experimental values for magnetic moments:</p>
<ul>
<li>Proton: <span class="math inline">\mu_p \approx 2.79 \frac{e}{2m_p}</span></li>
<li>Neutron: <span class="math inline">\mu_n \approx -1.91 \frac{e}{2m_p}</span> These values arise from the proton’s quark structure and wave function.</li>
</ul>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>